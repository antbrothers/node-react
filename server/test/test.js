const request = require('supertest'),
app = require('../app');

describe('#test express app', () => {
    let server = app.listen(9900);
    describe('#test server', () => {
        it('#test GET /api/products', async () => {        
            let res = await request(server)
                .get('/api/products')
                .expect('Content-Type', 'application/json; charset=utf-8')
                .expect(200, '{"code":200,"message":"请求成功","data":[{"id":"15eb7248-8bd2-4acc-b8f4-f7ed2f749df0","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-23T01:56:35.000Z","updatedAt":"2018-03-23T01:56:35.000Z"},{"id":"17cd1998-7c89-4972-be01-7ee06bea0fe6","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-22T08:55:31.000Z","updatedAt":"2018-03-22T08:55:31.000Z"},{"id":"1f60a16d-3b21-4f99-af43-fb2692799dca","userName":"厉害了我的国5555","firstName":"3232","lastName":null,"status":"active","createdAt":"2018-03-23T05:06:33.000Z","updatedAt":"2018-03-23T05:06:33.000Z"},{"id":"22c40250-cc27-4fa7-a240-40368dfa865c","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-23T01:35:52.000Z","updatedAt":"2018-03-23T01:35:52.000Z"},{"id":"41795126-042d-46c0-8a5a-4d6a981567e6","userName":"厉害了我的国5555","firstName":"3232","lastName":null,"status":"active","createdAt":"2018-03-23T05:06:26.000Z","updatedAt":"2018-03-23T05:06:26.000Z"},{"id":"4c61eab8-c694-48a2-8671-a35443d854d8","userName":"121","firstName":"frfr","lastName":null,"status":"inactive","createdAt":"2018-03-23T06:02:20.000Z","updatedAt":"2018-03-26T02:59:01.000Z"},{"id":"55a64e89-5c35-4aac-bbd6-47cb764cc2f7","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-23T02:20:33.000Z","updatedAt":"2018-03-23T02:20:33.000Z"},{"id":"6c8641d5-cba0-4ffd-90e8-b01953882ca9","userName":"厉","firstName":"3232","lastName":null,"status":"active","createdAt":"2018-03-23T05:56:36.000Z","updatedAt":"2018-03-23T05:56:36.000Z"},{"id":"72e450e7-f284-4970-a067-6fdee452a49c","userName":"厉","firstName":"3232","lastName":null,"status":"active","createdAt":"2018-03-23T05:07:30.000Z","updatedAt":"2018-03-23T05:07:30.000Z"},{"id":"9038ef0e-d7b9-4637-93d5-300148758ac3","userName":"厉害了我的国5555","firstName":"3232","lastName":null,"status":"active","createdAt":"2018-03-23T05:06:32.000Z","updatedAt":"2018-03-23T05:06:32.000Z"},{"id":"962a9703-ab1a-4ccc-ab33-118a4028cda1","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-23T02:38:56.000Z","updatedAt":"2018-03-23T02:38:56.000Z"},{"id":"99fe68fe-ee96-4d8d-b1a4-c8c20437feb6","userName":"厉","firstName":"3232","lastName":null,"status":"active","createdAt":"2018-03-23T06:00:09.000Z","updatedAt":"2018-03-23T06:00:09.000Z"},{"id":"9ea31f6e-75b5-40f0-abcd-e47a8a18120b","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-23T01:29:46.000Z","updatedAt":"2018-03-23T01:29:46.000Z"},{"id":"a331f039-7a4a-4951-97ea-73a28f502633","userName":"厉害了我的国","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-22T04:58:14.000Z","updatedAt":"2018-03-22T04:58:14.000Z"},{"id":"bbc24a4b-106f-4134-8f02-91e516d4d94f","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-22T04:58:47.000Z","updatedAt":"2018-03-22T04:58:47.000Z"},{"id":"bceb644f-03f8-4ad1-a79c-f40dddb42f72","userName":"厉害了我的国5555","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-23T01:26:36.000Z","updatedAt":"2018-03-23T01:26:36.000Z"},{"id":"cbb7bb03-0f96-4eca-81a3-309ebc7fc4e6","userName":"厉害了我的国","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-22T04:50:56.000Z","updatedAt":"2018-03-22T04:50:56.000Z"},{"id":"d2592928-85c5-4129-85b2-4ee46effa79a","userName":"厉害了我的国","firstName":"3232","lastName":"3232","status":"active","createdAt":"2018-03-22T04:56:22.000Z","updatedAt":"2018-03-22T04:56:22.000Z"}]}');
        })
    })
})